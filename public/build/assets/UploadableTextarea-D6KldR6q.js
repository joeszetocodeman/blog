import{c as S,j as v,r as h}from"./app-BfeRyKrv.js";import{c as C}from"./utils-BExT89EQ.js";import{a as N}from"./index-B9ygI19o.js";/* empty css            */import"./clsx-B-dksMZM.js";function V(n){const e=S.c(8);let o,l;e[0]!==n?({className:o,...l}=n,e[0]=n,e[1]=o,e[2]=l):(o=e[1],l=e[2]);let t;e[3]!==o?(t=C("border-input placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex min-h-[60px] w-full min-w-0 rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",o),e[3]=o,e[4]=t):t=e[4];let s;return e[5]!==l||e[6]!==t?(s=v.jsx("textarea",{"data-slot":"textarea",className:t,...l}),e[5]=l,e[6]=t,e[7]=s):s=e[7],s}function q(n){const e=S.c(9),{blog:o}=n,[l,t]=h.useState(!1);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[0]=s):s=e[0];const[,_]=h.useState(s),D=h.useRef(null);let d,u;if(e[1]===Symbol.for("react.memo_cache_sentinel")){u=async i=>{const a=new FormData;i.forEach(c=>{a.append("files[]",c)}),N.post("/upload-endpoint",a,{headers:{"Content-Type":"multipart/form-data"}}).then(c=>{_(c.data.data);const x=c.data.data;r(x)}).catch(F)};const r=i=>{const a=D.current;if(!a)return;const c=a.selectionStart,x=a.selectionEnd,y=a.value,w=i.map(A).join(`
`),$=y.slice(0,c)+w+y.slice(x);a.value=$;const E=c+w.length;a.setSelectionRange(E,E),a.focus()};d=i=>{i.preventDefault(),i.stopPropagation(),t(!0)},e[1]=d,e[2]=u}else d=e[1],u=e[2];const j=d;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=r=>{r.preventDefault(),r.stopPropagation(),t(!0)},e[3]=f):f=e[3];const P=f;let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=r=>{r.preventDefault(),r.stopPropagation(),t(!1)},e[4]=p):p=e[4];const R=p;let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=r=>{r.preventDefault(),r.stopPropagation(),t(!1);const i=Array.from(r.dataTransfer.files);u(i)},e[5]=m):m=e[5];const T=m,b=`min-h-[300px] font-sans ${l?"border-dashed border-blue-500 bg-blue-50":""}`;let g;return e[6]!==o.content||e[7]!==b?(g=v.jsx("div",{children:v.jsx(V,{ref:D,onDragLeave:R,onDragEnter:P,onDragOver:j,onDrop:T,defaultValue:o.content,name:"content",className:b,placeholder:"Enter blog content"})}),e[6]=o.content,e[7]=b,e[8]=g):g=e[8],g}function A(n){return`![](${n})`}function F(n){console.error("Error uploading files:",n)}export{q as default};
